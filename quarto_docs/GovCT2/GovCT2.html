<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.55">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Martin Franke">

<title>GovCT2</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="GovCT2_files/libs/clipboard/clipboard.min.js"></script>
<script src="GovCT2_files/libs/quarto-html/quarto.js"></script>
<script src="GovCT2_files/libs/quarto-html/popper.min.js"></script>
<script src="GovCT2_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="GovCT2_files/libs/quarto-html/anchor.min.js"></script>
<link href="GovCT2_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="GovCT2_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="GovCT2_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="GovCT2_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="GovCT2_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

</head>

<body>

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
  <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#context" id="toc-context" class="nav-link active" data-scroll-target="#context"><span class="header-section-number">1</span> Context</a></li>
  <li><a href="#model-use-assumptions-validity-domain-and-limitations" id="toc-model-use-assumptions-validity-domain-and-limitations" class="nav-link" data-scroll-target="#model-use-assumptions-validity-domain-and-limitations"><span class="header-section-number">2</span> Model use, assumptions, validity domain and limitations</a></li>
  <li><a href="#model-description" id="toc-model-description" class="nav-link" data-scroll-target="#model-description"><span class="header-section-number">3</span> Model description</a>
  <ul class="collapse">
  <li><a href="#model-schema" id="toc-model-schema" class="nav-link" data-scroll-target="#model-schema"><span class="header-section-number">3.1</span> Model schema</a></li>
  <li><a href="#major-control-paths" id="toc-major-control-paths" class="nav-link" data-scroll-target="#major-control-paths"><span class="header-section-number">3.2</span> Major control paths</a>
  <ul class="collapse">
  <li><a href="#speedload-fsrn" id="toc-speedload-fsrn" class="nav-link" data-scroll-target="#speedload-fsrn"><span class="header-section-number">3.2.1</span> Speed/load (fsrn)</a></li>
  <li><a href="#turbineengine-model" id="toc-turbineengine-model" class="nav-link" data-scroll-target="#turbineengine-model"><span class="header-section-number">3.2.2</span> Turbine/engine model</a></li>
  <li><a href="#sec-freqDepLimit" id="toc-sec-freqDepLimit" class="nav-link" data-scroll-target="#sec-freqDepLimit"><span class="header-section-number">3.2.3</span> Frequency dependent (valve) limit</a></li>
  </ul></li>
  <li><a href="#parameters" id="toc-parameters" class="nav-link" data-scroll-target="#parameters"><span class="header-section-number">3.3</span> Parameters</a></li>
  <li><a href="#variables" id="toc-variables" class="nav-link" data-scroll-target="#variables"><span class="header-section-number">3.4</span> Variables</a>
  <ul class="collapse">
  <li><a href="#inputs" id="toc-inputs" class="nav-link" data-scroll-target="#inputs"><span class="header-section-number">3.4.1</span> Inputs</a></li>
  </ul></li>
  <li><a href="#outputs" id="toc-outputs" class="nav-link" data-scroll-target="#outputs"><span class="header-section-number">3.5</span> Outputs</a></li>
  <li><a href="#equations-algorithm" id="toc-equations-algorithm" class="nav-link" data-scroll-target="#equations-algorithm"><span class="header-section-number">3.6</span> Equations &amp; algorithm &nbsp;</a></li>
  <li><a href="#initial-equations-boundary-conditions" id="toc-initial-equations-boundary-conditions" class="nav-link" data-scroll-target="#initial-equations-boundary-conditions"><span class="header-section-number">3.7</span> Initial equations / boundary conditions</a>
  <ul class="collapse">
  <li><a href="#helper-variables" id="toc-helper-variables" class="nav-link" data-scroll-target="#helper-variables"><span class="header-section-number">3.7.1</span> Helper variables</a></li>
  <li><a href="#initial-states" id="toc-initial-states" class="nav-link" data-scroll-target="#initial-states"><span class="header-section-number">3.7.2</span> Initial states</a></li>
  <li><a href="#initial-power-reference" id="toc-initial-power-reference" class="nav-link" data-scroll-target="#initial-power-reference"><span class="header-section-number">3.7.3</span> Initial power reference</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#assumptions-in-modelica-implementation-open-source-implementations" id="toc-assumptions-in-modelica-implementation-open-source-implementations" class="nav-link" data-scroll-target="#assumptions-in-modelica-implementation-open-source-implementations"><span class="header-section-number">4</span> Assumptions in modelica implementation (Open source implementations)</a>
  <ul class="collapse">
  <li><a href="#base-values" id="toc-base-values" class="nav-link" data-scroll-target="#base-values"><span class="header-section-number">4.1</span> Base values</a></li>
  <li><a href="#integrator-anti-windup-and-integrator-limits" id="toc-integrator-anti-windup-and-integrator-limits" class="nav-link" data-scroll-target="#integrator-anti-windup-and-integrator-limits"><span class="header-section-number">4.2</span> Integrator anti-windup and integrator limits</a>
  <ul class="collapse">
  <li><a href="#sec-assumptionLimits" id="toc-sec-assumptionLimits" class="nav-link" data-scroll-target="#sec-assumptionLimits"><span class="header-section-number">4.2.1</span> Limits</a></li>
  <li><a href="#anti-windup" id="toc-anti-windup" class="nav-link" data-scroll-target="#anti-windup"><span class="header-section-number">4.2.2</span> Anti-windup</a></li>
  <li><a href="#resulting-assumptions" id="toc-resulting-assumptions" class="nav-link" data-scroll-target="#resulting-assumptions"><span class="header-section-number">4.2.3</span> Resulting assumptions</a></li>
  </ul></li>
  <li><a href="#ramp-rate-limiters" id="toc-ramp-rate-limiters" class="nav-link" data-scroll-target="#ramp-rate-limiters"><span class="header-section-number">4.3</span> Ramp rate limiters</a></li>
  <li><a href="#input-signals-omega-and-p_mathrmref" id="toc-input-signals-omega-and-p_mathrmref" class="nav-link" data-scroll-target="#input-signals-omega-and-p_mathrmref"><span class="header-section-number">4.4</span> Input signals <span class="math inline">\(\omega\)</span> and <span class="math inline">\(P_\mathrm{ref}\)</span></a>
  <ul class="collapse">
  <li><a href="#power-setpoint-p_mathrmref" id="toc-power-setpoint-p_mathrmref" class="nav-link" data-scroll-target="#power-setpoint-p_mathrmref"><span class="header-section-number">4.4.1</span> Power setpoint <span class="math inline">\(P_\mathrm{ref}\)</span></a></li>
  <li><a href="#rotor-speed-omega" id="toc-rotor-speed-omega" class="nav-link" data-scroll-target="#rotor-speed-omega"><span class="header-section-number">4.4.2</span> Rotor speed <span class="math inline">\(\omega\)</span></a></li>
  </ul></li>
  <li><a href="#frequency-dependent-limit" id="toc-frequency-dependent-limit" class="nav-link" data-scroll-target="#frequency-dependent-limit"><span class="header-section-number">4.5</span> Frequency-dependent limit</a></li>
  <li><a href="#governor-output-feedback-delay" id="toc-governor-output-feedback-delay" class="nav-link" data-scroll-target="#governor-output-feedback-delay"><span class="header-section-number">4.6</span> Governor output feedback delay</a></li>
  </ul></li>
  <li><a href="#table-of-references" id="toc-table-of-references" class="nav-link" data-scroll-target="#table-of-references"><span class="header-section-number">5</span> Table of references</a></li>
  </ul>
<div class="quarto-alternate-formats"><h2>Other Formats</h2><ul><li><a href="..\..\GovCT2.pdf"><i class="bi bi-file-pdf"></i>PDF</a></li><li><a href="GovCT2.docx"><i class="bi bi-file-word"></i>MS Word</a></li><li><a href="GovCT2.md"><i class="bi bi-file-code"></i>Github (GFM)</a></li><li><a href="..\..\GovCT2.pdf"><i class="bi bi-file-pdf"></i>Typst</a></li></ul></div></nav>
</div>
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">GovCT2</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p><a href="https://github.com/martinscripts">Martin Franke</a> <a href="mailto:martin.franke@iee.fraunhofer.de" class="quarto-title-author-email"><i class="bi bi-envelope"></i></a> </p>
          </div>
  </div>
    
  
    
  </div>
  


</header>


<section id="context" class="level1" data-number="1">
<h1 data-number="1"><span class="header-section-number">1</span> Context</h1>
<p>In a power plant, a governor regulates the mechanical power (<span class="math inline">\(P_m\)</span>) or torque (<span class="math inline">\(T_m\)</span>) delivered from the turbine to the electrical generator. This governor model includes the turbine dynamics, i.e.&nbsp;it takes a reference power and generator speed and outputs the mechanical torque.</p>
<p>This GovCT2 is a modification of the GovCT1 in order to represent the frequency-dependent fuel flow limit of a specific gas turbine manufacturer. Both are based on <em>Rowen’s model</em> from 1983 <span class="citation" data-cites="machowski2020"><a href="#ref-machowski2020" role="doc-biblioref">[1]</a></span>.</p>
<p>When comparing to older standards: GovCT2 is identical to GGOV2 and GovCT1 is identical to GGOV1.</p>
<p>GovCT2 is part of the CIM/CGMES standard, see <span class="citation" data-cites="alliander2024"><a href="#ref-alliander2024" role="doc-biblioref">[2]</a></span> and <span class="citation" data-cites="iec61970-3022023"><a href="#ref-iec61970-3022023" role="doc-biblioref">[3]</a></span>. CIM is developed by ENTSO-E and aims at ensuring the reliability of grid models and market information exchanges. ENTSO-E developed CGMES as a superset of the IEC CIM standards (belonging to IEC CIM16) in 2013 to fulfill the requirements of transmission system operators and their data exchanges.</p>
<p>The following information has been gathered from <span class="citation" data-cites="alliander2024"><a href="#ref-alliander2024" role="doc-biblioref">[2]</a></span>, <span class="citation" data-cites="neplan2015"><a href="#ref-neplan2015" role="doc-biblioref">[4]</a></span> and <span class="citation" data-cites="iec61970-3022023"><a href="#ref-iec61970-3022023" role="doc-biblioref">[3]</a></span>.</p>
</section>
<section id="model-use-assumptions-validity-domain-and-limitations" class="level1" data-number="2">
<h1 data-number="2"><span class="header-section-number">2</span> Model use, assumptions, validity domain and limitations</h1>
<p>General model for any prime mover with a PID governor.</p>
<p>For example used for:</p>
<p>Can be used to represent a variety of prime movers controlled by PID governors, such as:</p>
<ul>
<li>Single shaft combined cycle turbines and Gas turbines</li>
<li>Diesel engines (with modern digital or electronic governors)</li>
<li>Steam turbines with
<ul>
<li>steam supplied from a large boiler drum</li>
<li>or steam supplied from a large header with approximately constant pressure (over the time period of the simulation)</li>
</ul></li>
<li>Simple hydro turbines in dam configurations with
<ul>
<li>short water column length</li>
<li>and minimal water inertia effects</li>
</ul></li>
</ul>
<p>The model is a positive-sequence RMS model, hence it assumes symmetrical operating conditions and neglects high-frequency dynamics. This type of model is often used in large-scale stability studies, for which it reflects the relevant phenomena. It is not a detailed physical model of the unit. Also for some stability phenomena (e.g.&nbsp;resonance stability) this model is not sufficient and EMT models or other approaches may be necessary.</p>
</section>
<section id="model-description" class="level1" data-number="3">
<h1 data-number="3"><span class="header-section-number">3</span> Model description</h1>
<section id="model-schema" class="level2" data-number="3.1">
<h2 data-number="3.1" class="anchored" data-anchor-id="model-schema"><span class="header-section-number">3.1</span> Model schema</h2>
<div id="fig-modelSchema" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-modelSchema-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="drawings/GovCT2.drawio.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-modelSchema-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;1: Model schema, based on <span class="citation" data-cites="iec61970-3022023"><a href="#ref-iec61970-3022023" role="doc-biblioref">[3]</a></span>
</figcaption>
</figure>
</div>
</section>
<section id="major-control-paths" class="level2" data-number="3.2">
<h2 data-number="3.2" class="anchored" data-anchor-id="major-control-paths"><span class="header-section-number">3.2</span> Major control paths</h2>
<p>The following section is based on <span class="citation" data-cites="machowski2020"><a href="#ref-machowski2020" role="doc-biblioref">[1]</a></span> (p.&nbsp;517f).</p>
<p>The model has three major control paths (speed/load, acceleration, temperature) associated with the dynamic response during disturbances. Outputs of these control functions are all inputs into a minimum value selector determining the least fuel request. This is then given to the actuator.</p>
<section id="speedload-fsrn" class="level3" data-number="3.2.1">
<h3 data-number="3.2.1" class="anchored" data-anchor-id="speedload-fsrn"><span class="header-section-number">3.2.1</span> Speed/load (fsrn)</h3>
<p>This can be considered the main control path. It corresponds directly to the governor. The inputs are load demand <span class="math inline">\(P_\mathrm{ref}\)</span>, rotor speed <span class="math inline">\(\omega\)</span> and automatic generation control power <span class="math inline">\(P_\mathrm{MWSet}\)</span>.</p>
<p>The resulting signal is then passed through a deadband, limits and a PID-controller. To represent a specific governor, some elements can be deactivated by setting parameters to zero (examples in <span class="citation" data-cites="machowski2020"><a href="#ref-machowski2020" role="doc-biblioref">[1]</a></span>).</p>
<section id="supervisory-load-controller" class="level4" data-number="3.2.1.1">
<h4 data-number="3.2.1.1" class="anchored" data-anchor-id="supervisory-load-controller"><span class="header-section-number">3.2.1.1</span> Supervisory load controller</h4>
<p>In <span class="citation" data-cites="iec61970-3022023"><a href="#ref-iec61970-3022023" role="doc-biblioref">[3]</a></span> the <span class="math inline">\(P_\mathrm{MWSet}\)</span> path is described as an optional additional outer loop associated with a power plant control (supervisory load controller). This is active when <span class="math inline">\(K_\mathrm{I\,MW}\)</span> is not equal to zero. It is a slow acting reset control and it adjusts the speed/load reference of the turbine governor to maintain the electrical power of the unit at the value which it has been initialized with. That value is stored in <span class="math inline">\(P_\mathrm{MW\,set}\)</span> when the model is initialized, and can be changed during simulation. The load controller is expected to have a slow reaction compared to the speed governor. <span class="citation" data-cites="iec61970-3022023"><a href="#ref-iec61970-3022023" role="doc-biblioref">[3]</a></span></p>
<p>A value <span class="math inline">\(K_\mathrm{I\,MW}\)</span> = to 0.01 corresponds to a time constant of 100 s; 0.001 corresponds to 1000 s (relatively slow acting) <span class="citation" data-cites="iec61970-3022023"><a href="#ref-iec61970-3022023" role="doc-biblioref">[3]</a></span>.</p>
</section>
<section id="acceleration-fsra" class="level4" data-number="3.2.1.2">
<h4 data-number="3.2.1.2" class="anchored" data-anchor-id="acceleration-fsra"><span class="header-section-number">3.2.1.2</span> Acceleration (fsra)</h4>
<blockquote class="blockquote">
<p>[…] for studies of large power systems, [the acceleration control loop] can be ignored. It is important for islanding studies and smaller power systems with large frequency variations. If the generating unit begins to accelerate at a rate over [<span class="math inline">\(a_\mathrm{set}\)</span>] (pu/s^2) then this control loop acts to limit fuel flow. <span class="citation" data-cites="machowski2020"><a href="#ref-machowski2020" role="doc-biblioref">[1]</a></span></p>
</blockquote>
<p>It can be disabled by setting <span class="math inline">\(a_\mathrm{set}\)</span> to a large value, such as 1. <span class="citation" data-cites="iec61970-3022023"><a href="#ref-iec61970-3022023" role="doc-biblioref">[3]</a></span></p>
</section>
<section id="temperature-fsrt-load-limit" class="level4" data-number="3.2.1.3">
<h4 data-number="3.2.1.3" class="anchored" data-anchor-id="temperature-fsrt-load-limit"><span class="header-section-number">3.2.1.3</span> Temperature (fsrt) / load limit</h4>
<p>The load limiter module allows to set a maximum output limit <span class="math inline">\(P_\mathrm{ldref}\)</span>. This can also model an exhaust temperature limit, in which case <span class="math inline">\(P_\mathrm{ldref}\)</span> is not to be interpreted as a power value. The time constant <span class="math inline">\(T_\mathrm{f\,load}\)</span> should match the measurement time constant for temperature (or power or which ever signal is being modelled). Additionally, the gains of the limiter, <span class="math inline">\(K_\mathrm{P\,load}\)</span> and <span class="math inline">\(K_\mathrm{I\,load}\)</span>, should be set to achieve fast and stable control when the limit <span class="math inline">\(P_\mathrm{ldref}\)</span> is reached. To deactivate the load limit, set the parameter <span class="math inline">\(P_\mathrm{ldref}\)</span> to a high value <span class="citation" data-cites="iec61970-3022023"><a href="#ref-iec61970-3022023" role="doc-biblioref">[3]</a></span>.</p>
<p>The lead-lag block with <span class="math inline">\(T_\mathrm{sa}\)</span> and <span class="math inline">\(T_\mathrm{sb}\)</span> can be used to model the exhaust gas temperature measurement system in gas turbines. A “radiation shield” component of larger gas turbines can be modeled by setting <span class="math inline">\(T_\mathrm{sa}=4\,\mathrm{s}\)</span> and <span class="math inline">\(T_\mathrm{sb}=5\,\mathrm{s}\)</span>, for example <span class="citation" data-cites="iec61970-3022023"><a href="#ref-iec61970-3022023" role="doc-biblioref">[3]</a></span>.</p>
<blockquote class="blockquote">
<p>The temperature limit [tlim] in pu corresponds to the fuel flow required for 1 pu turbine power. <span class="citation" data-cites="machowski2020"><a href="#ref-machowski2020" role="doc-biblioref">[1]</a></span></p>
</blockquote>
</section>
</section>
<section id="turbineengine-model" class="level3" data-number="3.2.2">
<h3 data-number="3.2.2" class="anchored" data-anchor-id="turbineengine-model"><span class="header-section-number">3.2.2</span> Turbine/engine model</h3>
<p>The output from the low value select block is given to the first order lag element representing the fuel or gate system (Valve). <span class="citation" data-cites="machowski2020"><a href="#ref-machowski2020" role="doc-biblioref">[1]</a></span></p>
<p><span class="math inline">\(V_\mathrm{max}\)</span> and <span class="math inline">\(V_\mathrm{min}\)</span> represent the maximum and minimum fuel valve opening. <span class="math inline">\(W_\mathrm{fspd}\)</span> is the fuel flow multiplyer.</p>
<p><span class="math inline">\(W_\mathrm{fnl}\)</span> is the fuel required to run the compensator <span class="citation" data-cites="machowski2020"><a href="#ref-machowski2020" role="doc-biblioref">[1]</a></span>.</p>
<p>The range of fuel valve travel and of fuel flow is unity, so the limits lie between 0 pu and 1 pu. <span class="math inline">\(V_\mathrm{max}\)</span> can be reduced below 1, for example to model a load limit defined by the operator or supervisory controller <span class="citation" data-cites="iec61970-3022023"><a href="#ref-iec61970-3022023" role="doc-biblioref">[3]</a></span>. Additionally there is a dynamic frequency dependent limit reduction, see <a href="#sec-freqDepLimit" class="quarto-xref">Section&nbsp;3.2.3</a>.</p>
<p>For a gas turbine, in the presence of a minimum firing limit, <span class="math inline">\(V_\mathrm{min}\)</span> normally is set greater than zero and less than <span class="math inline">\(W_\mathrm{fnl}\)</span> <span class="citation" data-cites="iec61970-3022023"><a href="#ref-iec61970-3022023" role="doc-biblioref">[3]</a></span>.</p>
<p>The value of the fuel flow at maximum power shall be <span class="math inline">\(\leq 1\)</span>, depending on the value of <span class="math inline">\(K_\mathrm{turb}\)</span> <span class="citation" data-cites="iec61970-3022023"><a href="#ref-iec61970-3022023" role="doc-biblioref">[3]</a></span>. It translates the fuel consumption (or water flow) to mechanical power output <span class="citation" data-cites="machowski2020"><a href="#ref-machowski2020" role="doc-biblioref">[1]</a></span>.</p>
<p>The time delay <span class="math inline">\(e^{-sT_\mathrm{eng}}\)</span> is used in representing diesel engines where there is a small but measurable transport delay between a change in fuel flow setting and the development of torque. <span class="math inline">\(T_\mathrm{eng}\)</span> should be zero in all but special cases where this transport delay is of particular concern <span class="citation" data-cites="iec61970-3022023"><a href="#ref-iec61970-3022023" role="doc-biblioref">[3]</a></span>.</p>
<p>The switch <span class="math inline">\(W_\mathrm{fspd}\)</span> is responsible for recognizing whether fuel flow, for a given fuel valve stroke, is be proportional to engine speed <span class="citation" data-cites="iec61970-3022023"><a href="#ref-iec61970-3022023" role="doc-biblioref">[3]</a></span>. If True, fuel flow is proportional to speed. This is applicable for some gas turbines and diesel engines with positive displacement fuel injectors. If false, the fuel control system keeps fuel flow independent of engine speed.</p>
<section id="sec-speedSensitivity" class="level4" data-number="3.2.2.1">
<h4 data-number="3.2.2.1" class="anchored" data-anchor-id="sec-speedSensitivity"><span class="header-section-number">3.2.2.1</span> Speed sensitivity / Damping</h4>
<p>If <span class="math inline">\(D_\mathrm{m}=0\)</span>, the speed sensitivity paths are not active. <span class="citation" data-cites="iec61970-3022023"><a href="#ref-iec61970-3022023" role="doc-biblioref">[3]</a></span></p>
<p>If <span class="math inline">\(D_\mathrm{m}&gt;0\)</span>, it models friction losses (variation of the engine power with the shaft speed; slightly increasing losses with increasing speed are characteristic for reciprocating engines and some aeroderivative turbines <span class="citation" data-cites="iec61970-3022023"><a href="#ref-iec61970-3022023" role="doc-biblioref">[3]</a></span>).</p>
<p>If <span class="math inline">\(D_\mathrm{m}=&lt;0\)</span>, it can model an influence of rotation speed on exhaust temperature using an exponential characteristic determined by <span class="math inline">\(D_\mathrm{m}\)</span>. The maximum permissible fuel flow falls with falling speed (typical for single-shaft industrial turbines due to exhaust temperature limits) <span class="citation" data-cites="iec61970-3022023"><a href="#ref-iec61970-3022023" role="doc-biblioref">[3]</a></span>. The authors suspect that this could represent fan cooling.</p>
</section>
</section>
<section id="sec-freqDepLimit" class="level3" data-number="3.2.3">
<h3 data-number="3.2.3" class="anchored" data-anchor-id="sec-freqDepLimit"><span class="header-section-number">3.2.3</span> Frequency dependent (valve) limit</h3>
<p>The frequency-dependent limit block outputs the upper limit for valve position / the fuel flow signal fsr. It is shown in <a href="#fig-frequencyDependentLimit" class="quarto-xref">Figure&nbsp;2</a>.</p>
<p>In normal operation, the limit is <span class="math inline">\(V_\mathrm{max\,\omega} = V_\mathrm{max}\)</span> and the there is no frequency dependent reduction.</p>
<p>When the frequency <span class="math inline">\(f\)</span> in Hz drops below <span class="math inline">\(f_\mathrm{lim\,1}\)</span>, the value for <span class="math inline">\(P_\mathrm{lim}\)</span>, the power limit, is calculated by linear interpolation between the values <span class="math inline">\(f_\mathrm{lim\,1}, f_\mathrm{lim\,2}, \dots\)</span> and <span class="math inline">\(P_\mathrm{lim\,1}, P_\mathrm{lim\,2}, \dots\)</span> of a lookup table. The table consists of 10 data points which monotonically decrease in both power and frequency, point 1 being the hightest. The lowest data point does act as a lower limit, i.e.&nbsp;is not extrapolated to lower values.</p>
<p><span class="math inline">\(V_\mathrm{max\,\omega}\)</span> then ramps with the rate <span class="math inline">\(P_\mathrm{rate}\)</span> from the initial and maximum value to the new value <span class="math inline">\(V_\mathrm{max\,omega} = (P_\mathrm{lim} / K_\mathrm{turb} + W_\mathrm{fnl})\)</span>.</p>
<p><span class="math inline">\(P_\mathrm{lim}\)</span> will then change with frequency. If f rises above <span class="math inline">\(P_\mathrm{lim\,1}\)</span> again, <span class="math inline">\(V_\mathrm{max\,\omega}\)</span> ramps back to <span class="math inline">\(V_\mathrm{max}\)</span> <span class="citation" data-cites="iec61970-3022023"><a href="#ref-iec61970-3022023" role="doc-biblioref">[3]</a></span>.</p>
<div id="fig-frequencyDependentLimit" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-frequencyDependentLimit-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="drawings/GovCT2.frequencylimit.drawio.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-frequencyDependentLimit-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;2: Frequency dependent valve limit as described in <span class="citation" data-cites="iec61970-3022023"><a href="#ref-iec61970-3022023" role="doc-biblioref">[3]</a></span>
</figcaption>
</figure>
</div>
</section>
</section>
<section id="parameters" class="level2" data-number="3.3">
<h2 data-number="3.3" class="anchored" data-anchor-id="parameters"><span class="header-section-number">3.3</span> Parameters</h2>
<p>Per-unit power parameters are based on <span class="math inline">\(P_\mathrm{base}\)</span>, which is normally the capability of the turbine in MW. Per-unit frequency or acceleration parameters are based on the nominal frequency of the grid (e.g.&nbsp;50 Hz in Europe).</p>
<div id="tbl-parameters" class="quarto-float quarto-figure quarto-figure-center anchored" data-tbl-colwidths="[6,6,5,20,10,44,7]">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-parameters-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;1: Parameters
</figcaption>
<div aria-describedby="tbl-parameters-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<table class="caption-top table">
<colgroup>
<col style="width: 6%">
<col style="width: 6%">
<col style="width: 5%">
<col style="width: 20%">
<col style="width: 10%">
<col style="width: 44%">
<col style="width: 7%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">name</th>
<th style="text-align: left;">type</th>
<th style="text-align: left;">unit</th>
<th style="text-align: left;">modelica name</th>
<th style="text-align: left;">IEC name</th>
<th style="text-align: left;">description</th>
<th style="text-align: left;">typical value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"><span class="math inline">\(a_\mathrm{set}\)</span></td>
<td style="text-align: left;">float</td>
<td style="text-align: left;">pu/s</td>
<td style="text-align: left;">aSetPu</td>
<td style="text-align: left;">Aset</td>
<td style="text-align: left;">Acceleration limiter setpoint</td>
<td style="text-align: left;">10</td>
</tr>
<tr class="even">
<td style="text-align: left;"><span class="math inline">\(\Delta\omega_\mathrm{db}\)</span></td>
<td style="text-align: left;">float</td>
<td style="text-align: left;">pu</td>
<td style="text-align: left;">DeltaOmegaDbPu</td>
<td style="text-align: left;">db</td>
<td style="text-align: left;">Frequency error deadband. Recommended to be =0 in most applications <span class="citation" data-cites="iec61970-3022023"><a href="#ref-iec61970-3022023" role="doc-biblioref">[3]</a></span></td>
<td style="text-align: left;">0</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><span class="math inline">\(\Delta\omega_\mathrm{max}\)</span></td>
<td style="text-align: left;">float</td>
<td style="text-align: left;">pu</td>
<td style="text-align: left;">DeltaOmegaMaxPu</td>
<td style="text-align: left;">Maxerr</td>
<td style="text-align: left;">Maximum value for frequency error</td>
<td style="text-align: left;">1</td>
</tr>
<tr class="even">
<td style="text-align: left;"><span class="math inline">\(\Delta\omega_\mathrm{min}\)</span></td>
<td style="text-align: left;">float</td>
<td style="text-align: left;">pu</td>
<td style="text-align: left;">DeltaOmegaMinPu</td>
<td style="text-align: left;">Minerr</td>
<td style="text-align: left;">Minimum value for frequency error</td>
<td style="text-align: left;">-1</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><span class="math inline">\(\Delta t\)</span></td>
<td style="text-align: left;">float</td>
<td style="text-align: left;">s</td>
<td style="text-align: left;">DeltaT</td>
<td style="text-align: left;"><span class="math inline">\(\Delta t\)</span></td>
<td style="text-align: left;">Correction factor to adapt the unit of <span class="math inline">\(K_\mathrm{a}\)</span> from pu/s to pu</td>
<td style="text-align: left;">1</td>
</tr>
<tr class="even">
<td style="text-align: left;"><span class="math inline">\(D_\mathrm{m}\)</span></td>
<td style="text-align: left;">float</td>
<td style="text-align: left;">pu</td>
<td style="text-align: left;">Dm</td>
<td style="text-align: left;">dm</td>
<td style="text-align: left;">Speed sensitivity coefficient, see <a href="#sec-speedSensitivity" class="quarto-xref">Section&nbsp;3.2.2.1</a></td>
<td style="text-align: left;">0</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><span class="math inline">\(f_\mathrm{lim\,1}\)</span></td>
<td style="text-align: left;">float</td>
<td style="text-align: left;">Hz</td>
<td style="text-align: left;">fLim1</td>
<td style="text-align: left;">flim1</td>
<td style="text-align: left;">Frequency threshold 1</td>
<td style="text-align: left;">59</td>
</tr>
<tr class="even">
<td style="text-align: left;"><span class="math inline">\(f_\mathrm{lim\,10}\)</span></td>
<td style="text-align: left;">float</td>
<td style="text-align: left;">Hz</td>
<td style="text-align: left;">fLim1</td>
<td style="text-align: left;">flim10</td>
<td style="text-align: left;">Frequency threshold 10</td>
<td style="text-align: left;">0</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><span class="math inline">\(f_\mathrm{lim\,2}\)</span></td>
<td style="text-align: left;">float</td>
<td style="text-align: left;">Hz</td>
<td style="text-align: left;">fLim1</td>
<td style="text-align: left;">flim2</td>
<td style="text-align: left;">Frequency threshold 2</td>
<td style="text-align: left;">0</td>
</tr>
<tr class="even">
<td style="text-align: left;"><span class="math inline">\(f_\mathrm{lim\,3}\)</span></td>
<td style="text-align: left;">float</td>
<td style="text-align: left;">Hz</td>
<td style="text-align: left;">fLim1</td>
<td style="text-align: left;">flim3</td>
<td style="text-align: left;">Frequency threshold 3</td>
<td style="text-align: left;">0</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><span class="math inline">\(f_\mathrm{lim\,4}\)</span></td>
<td style="text-align: left;">float</td>
<td style="text-align: left;">Hz</td>
<td style="text-align: left;">fLim1</td>
<td style="text-align: left;">flim4</td>
<td style="text-align: left;">Frequency threshold 4</td>
<td style="text-align: left;">0</td>
</tr>
<tr class="even">
<td style="text-align: left;"><span class="math inline">\(f_\mathrm{lim\,5}\)</span></td>
<td style="text-align: left;">float</td>
<td style="text-align: left;">Hz</td>
<td style="text-align: left;">fLim1</td>
<td style="text-align: left;">flim5</td>
<td style="text-align: left;">Frequency threshold 5</td>
<td style="text-align: left;">0</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><span class="math inline">\(f_\mathrm{lim\,6}\)</span></td>
<td style="text-align: left;">float</td>
<td style="text-align: left;">Hz</td>
<td style="text-align: left;">fLim1</td>
<td style="text-align: left;">flim6</td>
<td style="text-align: left;">Frequency threshold 6</td>
<td style="text-align: left;">0</td>
</tr>
<tr class="even">
<td style="text-align: left;"><span class="math inline">\(f_\mathrm{lim\,7}\)</span></td>
<td style="text-align: left;">float</td>
<td style="text-align: left;">Hz</td>
<td style="text-align: left;">fLim1</td>
<td style="text-align: left;">flim7</td>
<td style="text-align: left;">Frequency threshold 7</td>
<td style="text-align: left;">0</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><span class="math inline">\(f_\mathrm{lim\,8}\)</span></td>
<td style="text-align: left;">float</td>
<td style="text-align: left;">Hz</td>
<td style="text-align: left;">fLim1</td>
<td style="text-align: left;">flim8</td>
<td style="text-align: left;">Frequency threshold 8</td>
<td style="text-align: left;">0</td>
</tr>
<tr class="even">
<td style="text-align: left;"><span class="math inline">\(f_\mathrm{lim\,9}\)</span></td>
<td style="text-align: left;">float</td>
<td style="text-align: left;">Hz</td>
<td style="text-align: left;">fLim1</td>
<td style="text-align: left;">flim9</td>
<td style="text-align: left;">Frequency threshold 9</td>
<td style="text-align: left;">0</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><span class="math inline">\(K_\mathrm{a}\)</span></td>
<td style="text-align: left;">float</td>
<td style="text-align: left;">pu</td>
<td style="text-align: left;">KA</td>
<td style="text-align: left;">Ka</td>
<td style="text-align: left;">Acceleration limiter gain</td>
<td style="text-align: left;">10</td>
</tr>
<tr class="even">
<td style="text-align: left;"><span class="math inline">\(K_\mathrm{D\,gov}\)</span></td>
<td style="text-align: left;">float</td>
<td style="text-align: left;">pu</td>
<td style="text-align: left;">KDGov</td>
<td style="text-align: left;">Kdgov</td>
<td style="text-align: left;">Governor derivative gain</td>
<td style="text-align: left;">0</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><span class="math inline">\(K_\mathrm{I\,gov}\)</span></td>
<td style="text-align: left;">float</td>
<td style="text-align: left;">pu</td>
<td style="text-align: left;">KIGov</td>
<td style="text-align: left;">Kigov</td>
<td style="text-align: left;">Governor integral gain</td>
<td style="text-align: left;">0.45</td>
</tr>
<tr class="even">
<td style="text-align: left;"><span class="math inline">\(K_\mathrm{I\,load}\)</span></td>
<td style="text-align: left;">float</td>
<td style="text-align: left;">pu</td>
<td style="text-align: left;">KILoad</td>
<td style="text-align: left;">Kiload</td>
<td style="text-align: left;">Load limiter integral gain</td>
<td style="text-align: left;">1</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><span class="math inline">\(K_\mathrm{I\,MW}\)</span></td>
<td style="text-align: left;">float</td>
<td style="text-align: left;">pu</td>
<td style="text-align: left;">KIMw</td>
<td style="text-align: left;">Kimw</td>
<td style="text-align: left;">Supervisory load controller integral gain</td>
<td style="text-align: left;">0</td>
</tr>
<tr class="even">
<td style="text-align: left;"><span class="math inline">\(K_\mathrm{P\,gov}\)</span></td>
<td style="text-align: left;">float</td>
<td style="text-align: left;">pu</td>
<td style="text-align: left;">KPGov</td>
<td style="text-align: left;">Kpgov</td>
<td style="text-align: left;">Governor proportional gain</td>
<td style="text-align: left;">4</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><span class="math inline">\(K_\mathrm{P\,load}\)</span></td>
<td style="text-align: left;">float</td>
<td style="text-align: left;">pu</td>
<td style="text-align: left;">KPLoad</td>
<td style="text-align: left;">Kpload</td>
<td style="text-align: left;">Load limiter proportional</td>
<td style="text-align: left;">1</td>
</tr>
<tr class="even">
<td style="text-align: left;"><span class="math inline">\(K_\mathrm{turb}\)</span></td>
<td style="text-align: left;">float</td>
<td style="text-align: left;">pu</td>
<td style="text-align: left;">KTurb</td>
<td style="text-align: left;">Kturb</td>
<td style="text-align: left;">Turbine gain (translates from fuel flow to power)</td>
<td style="text-align: left;">1.9168</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><span class="math inline">\(P_\mathrm{base}\)</span></td>
<td style="text-align: left;">float</td>
<td style="text-align: left;">MW</td>
<td style="text-align: left;">PBaseMw</td>
<td style="text-align: left;">Mwbase</td>
<td style="text-align: left;">Base for power values (&gt; 0)</td>
<td style="text-align: left;"></td>
</tr>
<tr class="even">
<td style="text-align: left;"><span class="math inline">\(P_\mathrm{ldref}\)</span></td>
<td style="text-align: left;">float</td>
<td style="text-align: left;">pu</td>
<td style="text-align: left;">PLdRefPu</td>
<td style="text-align: left;">Ldref</td>
<td style="text-align: left;">Load limiter reference value</td>
<td style="text-align: left;">1</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><span class="math inline">\(P_\mathrm{lim\,1}\)</span></td>
<td style="text-align: left;">float</td>
<td style="text-align: left;">pu</td>
<td style="text-align: left;">PLim1Pu</td>
<td style="text-align: left;">plim1</td>
<td style="text-align: left;">Power limit 1</td>
<td style="text-align: left;">0.8325</td>
</tr>
<tr class="even">
<td style="text-align: left;"><span class="math inline">\(P_\mathrm{lim\,10}\)</span></td>
<td style="text-align: left;">float</td>
<td style="text-align: left;">pu</td>
<td style="text-align: left;">PLim10Pu</td>
<td style="text-align: left;">plim10</td>
<td style="text-align: left;">Power limit 10</td>
<td style="text-align: left;">0</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><span class="math inline">\(P_\mathrm{lim\,2}\)</span></td>
<td style="text-align: left;">float</td>
<td style="text-align: left;">pu</td>
<td style="text-align: left;">PLim2Pu</td>
<td style="text-align: left;">plim2</td>
<td style="text-align: left;">Power limit 2</td>
<td style="text-align: left;">0</td>
</tr>
<tr class="even">
<td style="text-align: left;"><span class="math inline">\(P_\mathrm{lim\,3}\)</span></td>
<td style="text-align: left;">float</td>
<td style="text-align: left;">pu</td>
<td style="text-align: left;">PLim3Pu</td>
<td style="text-align: left;">plim3</td>
<td style="text-align: left;">Power limit 3</td>
<td style="text-align: left;">0</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><span class="math inline">\(P_\mathrm{lim\,4}\)</span></td>
<td style="text-align: left;">float</td>
<td style="text-align: left;">pu</td>
<td style="text-align: left;">PLim4Pu</td>
<td style="text-align: left;">plim4</td>
<td style="text-align: left;">Power limit 4</td>
<td style="text-align: left;">0</td>
</tr>
<tr class="even">
<td style="text-align: left;"><span class="math inline">\(P_\mathrm{lim\,5}\)</span></td>
<td style="text-align: left;">float</td>
<td style="text-align: left;">pu</td>
<td style="text-align: left;">PLim5Pu</td>
<td style="text-align: left;">plim5</td>
<td style="text-align: left;">Power limit 5</td>
<td style="text-align: left;">0</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><span class="math inline">\(P_\mathrm{lim\,6}\)</span></td>
<td style="text-align: left;">float</td>
<td style="text-align: left;">pu</td>
<td style="text-align: left;">PLim6Pu</td>
<td style="text-align: left;">plim6</td>
<td style="text-align: left;">Power limit 6</td>
<td style="text-align: left;">0</td>
</tr>
<tr class="even">
<td style="text-align: left;"><span class="math inline">\(P_\mathrm{lim\,7}\)</span></td>
<td style="text-align: left;">float</td>
<td style="text-align: left;">pu</td>
<td style="text-align: left;">PLim7Pu</td>
<td style="text-align: left;">plim7</td>
<td style="text-align: left;">Power limit 7</td>
<td style="text-align: left;">0</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><span class="math inline">\(P_\mathrm{lim\,8}\)</span></td>
<td style="text-align: left;">float</td>
<td style="text-align: left;">pu</td>
<td style="text-align: left;">PLim8Pu</td>
<td style="text-align: left;">plim8</td>
<td style="text-align: left;">Power limit 8</td>
<td style="text-align: left;">0</td>
</tr>
<tr class="even">
<td style="text-align: left;"><span class="math inline">\(P_\mathrm{lim\,9}\)</span></td>
<td style="text-align: left;">float</td>
<td style="text-align: left;">pu</td>
<td style="text-align: left;">PLim9Pu</td>
<td style="text-align: left;">plim9</td>
<td style="text-align: left;">Power Limit 9</td>
<td style="text-align: left;">0</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><span class="math inline">\(P_\mathrm{rate}\)</span></td>
<td style="text-align: left;">float</td>
<td style="text-align: left;">pu</td>
<td style="text-align: left;">PRatePu</td>
<td style="text-align: left;">prate</td>
<td style="text-align: left;">Ramp rate for frequency-dependent power limit</td>
<td style="text-align: left;">0.017</td>
</tr>
<tr class="even">
<td style="text-align: left;"><span class="math inline">\(R\)</span></td>
<td style="text-align: left;">float</td>
<td style="text-align: left;">pu</td>
<td style="text-align: left;">RDroop</td>
<td style="text-align: left;">R</td>
<td style="text-align: left;">Droop (frequency/power)</td>
<td style="text-align: left;">0.05</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><span class="math inline">\(R_\mathrm{close}\)</span></td>
<td style="text-align: left;">float</td>
<td style="text-align: left;">pu/s</td>
<td style="text-align: left;">RClosePu</td>
<td style="text-align: left;">Rclose</td>
<td style="text-align: left;">Minimum rate for valve closing</td>
<td style="text-align: left;">-99</td>
</tr>
<tr class="even">
<td style="text-align: left;"><span class="math inline">\(R_\mathrm{down}\)</span></td>
<td style="text-align: left;">float</td>
<td style="text-align: left;">pu</td>
<td style="text-align: left;">RDownPu</td>
<td style="text-align: left;">Rdown</td>
<td style="text-align: left;">temperature/load limit path output decrease rate limit</td>
<td style="text-align: left;">-99</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><span class="math inline">\(R_\mathrm{open}\)</span></td>
<td style="text-align: left;">float</td>
<td style="text-align: left;">pu/s</td>
<td style="text-align: left;">ROpenPu</td>
<td style="text-align: left;">Ropen</td>
<td style="text-align: left;">Maximum rate for valve closing</td>
<td style="text-align: left;">99</td>
</tr>
<tr class="even">
<td style="text-align: left;"><span class="math inline">\(R_\mathrm{select}\)</span></td>
<td style="text-align: left;">int</td>
<td style="text-align: left;">-</td>
<td style="text-align: left;">RSelectInt</td>
<td style="text-align: left;">Rselect</td>
<td style="text-align: left;">governor controller feedback mode switch</td>
<td style="text-align: left;"></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><span class="math inline">\(R_\mathrm{up}\)</span></td>
<td style="text-align: left;">float</td>
<td style="text-align: left;">pu</td>
<td style="text-align: left;">RUpPu</td>
<td style="text-align: left;">Rup</td>
<td style="text-align: left;">temperature/load limit path output increase rate limit</td>
<td style="text-align: left;">99</td>
</tr>
<tr class="even">
<td style="text-align: left;"><span class="math inline">\(T_\mathrm{a}\)</span></td>
<td style="text-align: left;">float</td>
<td style="text-align: left;">s</td>
<td style="text-align: left;">tA</td>
<td style="text-align: left;">Ta</td>
<td style="text-align: left;">Acceleration limiter time constant</td>
<td style="text-align: left;">1</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><span class="math inline">\(T_\mathrm{act}\)</span></td>
<td style="text-align: left;">float</td>
<td style="text-align: left;">s</td>
<td style="text-align: left;">tActuator</td>
<td style="text-align: left;">Tact</td>
<td style="text-align: left;">actuator (valve) reaction time constant</td>
<td style="text-align: left;">0.4</td>
</tr>
<tr class="even">
<td style="text-align: left;"><span class="math inline">\(T_\mathrm{b}\)</span></td>
<td style="text-align: left;">float</td>
<td style="text-align: left;">s</td>
<td style="text-align: left;">tB</td>
<td style="text-align: left;">Tb</td>
<td style="text-align: left;">Turbine lag time constant</td>
<td style="text-align: left;">0.1</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><span class="math inline">\(T_\mathrm{c}\)</span></td>
<td style="text-align: left;">float</td>
<td style="text-align: left;">s</td>
<td style="text-align: left;">tC</td>
<td style="text-align: left;">Tc</td>
<td style="text-align: left;">Turbine lead time constant</td>
<td style="text-align: left;">0</td>
</tr>
<tr class="even">
<td style="text-align: left;"><span class="math inline">\(T_\mathrm{dgov}\)</span></td>
<td style="text-align: left;">float</td>
<td style="text-align: left;">s</td>
<td style="text-align: left;">tDGov</td>
<td style="text-align: left;">Tdgov</td>
<td style="text-align: left;">Governor controller derivative time constant</td>
<td style="text-align: left;">1</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><span class="math inline">\(T_\mathrm{D\,ratelim}\)</span></td>
<td style="text-align: left;">float</td>
<td style="text-align: left;">s</td>
<td style="text-align: left;">tDRatelim</td>
<td style="text-align: left;">-</td>
<td style="text-align: left;">Ramp rate limter derivative time constant in s</td>
<td style="text-align: left;">0.001</td>
</tr>
<tr class="even">
<td style="text-align: left;"><span class="math inline">\(T_\mathrm{eng}\)</span></td>
<td style="text-align: left;">float</td>
<td style="text-align: left;">s</td>
<td style="text-align: left;">tEngine</td>
<td style="text-align: left;">Teng</td>
<td style="text-align: left;">Transport time delay for diesel engine</td>
<td style="text-align: left;">0</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><span class="math inline">\(T_\mathrm{f\,load}\)</span></td>
<td style="text-align: left;">float</td>
<td style="text-align: left;">s</td>
<td style="text-align: left;">tFLoad</td>
<td style="text-align: left;">Tfload</td>
<td style="text-align: left;">Load limiter time constant</td>
<td style="text-align: left;">3</td>
</tr>
<tr class="even">
<td style="text-align: left;"><span class="math inline">\(T_\mathrm{last\,value}\)</span></td>
<td style="text-align: left;">float</td>
<td style="text-align: left;">s</td>
<td style="text-align: left;">tLastValue</td>
<td style="text-align: left;">-</td>
<td style="text-align: left;">Time constant of very fast first order block to prevent algebraic loop</td>
<td style="text-align: left;">1e-9</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><span class="math inline">\(T_\mathrm{p\,elec}\)</span></td>
<td style="text-align: left;">float</td>
<td style="text-align: left;">s</td>
<td style="text-align: left;">tPElec</td>
<td style="text-align: left;">Tpelec</td>
<td style="text-align: left;">Electrical power measurement time constant</td>
<td style="text-align: left;">2.5</td>
</tr>
<tr class="even">
<td style="text-align: left;"><span class="math inline">\(T_\mathrm{sa}\)</span></td>
<td style="text-align: left;">float</td>
<td style="text-align: left;">s</td>
<td style="text-align: left;">tSA</td>
<td style="text-align: left;">Tsa</td>
<td style="text-align: left;">lead time constant of temperature detection</td>
<td style="text-align: left;">0</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><span class="math inline">\(T_\mathrm{sb}\)</span></td>
<td style="text-align: left;">float</td>
<td style="text-align: left;">s</td>
<td style="text-align: left;">tSB</td>
<td style="text-align: left;">Tsb</td>
<td style="text-align: left;">lag time constant of temperature detection</td>
<td style="text-align: left;">50</td>
</tr>
<tr class="even">
<td style="text-align: left;"><span class="math inline">\(V_\mathrm{max}\)</span></td>
<td style="text-align: left;">float</td>
<td style="text-align: left;">pu</td>
<td style="text-align: left;">ValveMaxPu</td>
<td style="text-align: left;">Vmax</td>
<td style="text-align: left;">Maximum valve position limit</td>
<td style="text-align: left;">1</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><span class="math inline">\(V_\mathrm{min}\)</span></td>
<td style="text-align: left;">float</td>
<td style="text-align: left;">pu</td>
<td style="text-align: left;">ValveMinPu</td>
<td style="text-align: left;">Vmin</td>
<td style="text-align: left;">Minimum valve position limit</td>
<td style="text-align: left;">0.175</td>
</tr>
<tr class="even">
<td style="text-align: left;"><span class="math inline">\(W_\mathrm{fnl}\)</span></td>
<td style="text-align: left;">float</td>
<td style="text-align: left;">pu</td>
<td style="text-align: left;">WFnlPu</td>
<td style="text-align: left;">Wfnl</td>
<td style="text-align: left;">fuel flow with no load</td>
<td style="text-align: left;">0.187</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><span class="math inline">\(W_\mathrm{fspd}\)</span></td>
<td style="text-align: left;">bool</td>
<td style="text-align: left;">-</td>
<td style="text-align: left;">WFSpdBool</td>
<td style="text-align: left;">Wfspd</td>
<td style="text-align: left;">Switch for fuel source characteristic</td>
<td style="text-align: left;">false</td>
</tr>
</tbody>
</table>
</div>
</figure>
</div>
</section>
<section id="variables" class="level2" data-number="3.4">
<h2 data-number="3.4" class="anchored" data-anchor-id="variables"><span class="header-section-number">3.4</span> Variables</h2>
<section id="inputs" class="level3" data-number="3.4.1">
<h3 data-number="3.4.1" class="anchored" data-anchor-id="inputs"><span class="header-section-number">3.4.1</span> Inputs</h3>
<div id="tbl-inputs" class="quarto-float quarto-figure quarto-figure-center anchored" data-tbl-colwidths="[6,6,5,20,10,44,7]">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-inputs-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;2: Inputs
</figcaption>
<div aria-describedby="tbl-inputs-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<table class="caption-top table">
<colgroup>
<col style="width: 6%">
<col style="width: 6%">
<col style="width: 5%">
<col style="width: 20%">
<col style="width: 10%">
<col style="width: 44%">
</colgroup>
<thead>
<tr class="header">
<th>name</th>
<th>type</th>
<th>unit</th>
<th>modelica name</th>
<th>IEC name</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><span class="math inline">\(\omega\)</span></td>
<td>float</td>
<td>pu</td>
<td>omegaPu</td>
<td><span class="math inline">\(\omega\)</span></td>
<td>rotor speed</td>
</tr>
<tr class="even">
<td><span class="math inline">\(P_\mathrm{ref}\)</span></td>
<td>float</td>
<td>pu</td>
<td>PRefPu</td>
<td>Pref</td>
<td>load setpoint</td>
</tr>
<tr class="odd">
<td><span class="math inline">\(P_\mathrm{MWSet}\)</span></td>
<td>float</td>
<td>pu</td>
<td>PMwSetPu</td>
<td>Pmwset</td>
<td>Supervisory power controller setpoint (automatic generation control)</td>
</tr>
<tr class="even">
<td><span class="math inline">\(P_\mathrm{e}\)</span></td>
<td>float</td>
<td>pu</td>
<td>PGenPu</td>
<td>Pe</td>
<td>measured electric power generation</td>
</tr>
</tbody>
</table>
</div>
</figure>
</div>
</section>
</section>
<section id="outputs" class="level2" data-number="3.5">
<h2 data-number="3.5" class="anchored" data-anchor-id="outputs"><span class="header-section-number">3.5</span> Outputs</h2>
<div id="tbl-outputs" class="quarto-float quarto-figure quarto-figure-center anchored" data-tbl-colwidths="[6,6,5,20,10,44,7]">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-outputs-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;3: Outputs
</figcaption>
<div aria-describedby="tbl-outputs-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<table class="caption-top table">
<colgroup>
<col style="width: 6%">
<col style="width: 6%">
<col style="width: 5%">
<col style="width: 20%">
<col style="width: 10%">
<col style="width: 44%">
</colgroup>
<thead>
<tr class="header">
<th>name</th>
<th>type</th>
<th>unit</th>
<th>modelica name</th>
<th>IEC name</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><span class="math inline">\(P_\mathrm{m}\)</span></td>
<td>float</td>
<td>pu</td>
<td>PmPu</td>
<td>Pm</td>
<td>mechanical power</td>
</tr>
</tbody>
</table>
</div>
</figure>
</div>
</section>
<section id="equations-algorithm" class="level2" data-number="3.6">
<h2 data-number="3.6" class="anchored" data-anchor-id="equations-algorithm"><span class="header-section-number">3.6</span> Equations &amp; algorithm &nbsp;</h2>
<p>–</p>
</section>
<section id="initial-equations-boundary-conditions" class="level2" data-number="3.7">
<h2 data-number="3.7" class="anchored" data-anchor-id="initial-equations-boundary-conditions"><span class="header-section-number">3.7</span> Initial equations / boundary conditions</h2>
<p>The initial values for the system’s states are calculated from the initial mechanical power <span class="math inline">\(P_\mathrm{m\,0}\)</span> and rotation speed <span class="math inline">\(\omega_\mathrm{0}\)</span>.</p>
<section id="helper-variables" class="level3" data-number="3.7.1">
<h3 data-number="3.7.1" class="anchored" data-anchor-id="helper-variables"><span class="header-section-number">3.7.1</span> Helper variables</h3>
<p>The following <em>helper variables</em> are defined to avoid repetition in the definitions of initial states below. They are the initial values of signals at certain points in <a href="#fig-modelSchema" class="quarto-xref">Figure&nbsp;1</a>.</p>
<p><span id="eq-initPmnoloss"><span class="math display">\[
P_\mathrm{m\,noloss\,0} =
\begin{cases}
    P_\mathrm{m\,0} + \omega_\mathrm{0} \cdot D_\mathrm{m},&amp; \text{if } D_\mathrm{m}&gt; 0\\
    P_\mathrm{m\,0},              &amp; \text{otherwise}
\end{cases}
\tag{1}\]</span></span></p>
<p><span id="eq-initCfe"><span class="math display">\[
C_\mathrm{fe\,0} =
\begin{cases}
    W_\mathrm{fnl} + P_\mathrm{m\,noloss\,0} / K_\mathrm{turb},&amp; \text{if } K_\mathrm{turb}&gt;0\\
    W_\mathrm{fnl},              &amp; \text{otherwise}
\end{cases}
\tag{2}\]</span></span></p>
<p><span id="eq-initValve"><span class="math display">\[
V_\mathrm{0} =
\begin{cases}
    C_\mathrm{fe\,0} / \omega_\mathrm{0},&amp; \text{if } W_\mathrm{fspd}\\
    C_\mathrm{fe\,0},              &amp; \text{otherwise}
\end{cases}
\tag{3}\]</span></span></p>
<p><span id="eq-initTex"><span class="math display">\[
\vartheta_\mathrm{ex\,0} =
\begin{cases}
    C_\mathrm{fe\,0} \cdot \omega_\mathrm{0}^{D_\mathrm{m}},&amp; \text{if } D_\mathrm{m}&lt;0\\
    1,              &amp; \text{otherwise}
\end{cases}
\tag{4}\]</span></span></p>
<p><span id="eq-initFsrt"><span class="math display">\[
F_\mathrm{srt\,0} = (P_\mathrm{ldref}/K_\mathrm{turb} + W_\mathrm{fnl} - \vartheta_\mathrm{ex\,0}) \cdot K_\mathrm{P\,load} + x_\mathrm{I\,load}
\tag{5}\]</span></span></p>
</section>
<section id="initial-states" class="level3" data-number="3.7.2">
<h3 data-number="3.7.2" class="anchored" data-anchor-id="initial-states"><span class="header-section-number">3.7.2</span> Initial states</h3>
<p><span id="eq-initXiload"><span class="math display">\[
x_\mathrm{I\,load\,0} = 1
\tag{6}\]</span></span></p>
<p><span id="eq-initXTurbine"><span class="math display">\[
x_\mathrm{turb\,0} = P_\mathrm{m\,noloss\,0}
\tag{7}\]</span></span></p>
<p><span id="eq-initXValve"><span class="math display">\[
x_\mathrm{valve\,0} = V_\mathrm{0}
\tag{8}\]</span></span></p>
<p><span id="eq-initXFdl"><span class="math display">\[
x_\mathrm{fdl\,ratelimit\,0} = K_\mathrm{turb}(V_\mathrm{max}-W_\mathrm{fnl})
\tag{9}\]</span></span></p>
<p><span id="eq-initXIGov"><span class="math display">\[
x_\mathrm{I\,gov\,0} = V_\mathrm{0}
\tag{10}\]</span></span></p>
<p><span id="eq-initXMeasPe"><span class="math display">\[
x_\mathrm{meas\,Pe\,0} = P_\mathrm{m\,0}
\tag{11}\]</span></span></p>
<p><span id="eq-initFsrt"><span class="math display">\[
x_\mathrm{fsrt\,ratelim\,0} = F_\mathrm{srt\,0}
\tag{12}\]</span></span></p>
<p><span id="eq-Texm"><span class="math display">\[
x_\mathrm{meas\,\vartheta\,ex\,0} = \vartheta_\mathrm{ex\,0}
\tag{13}\]</span></span></p>
<p><span id="eq-initTex"><span class="math display">\[
x_\mathrm{\vartheta\,ex\,0} = \vartheta_\mathrm{ex\,0}
\tag{14}\]</span></span></p>
<p><span id="eq-initXIMw"><span class="math display">\[
x_\mathrm{I\,MW} = 0
\tag{15}\]</span></span></p>
<p><span id="eq-initLastValue"><span class="math display">\[
x_\mathrm{last\,value\,0} = V_\mathrm{0}
\tag{16}\]</span></span></p>
<p><span id="eq-initFsra"><span class="math display">\[
x_\mathrm{fsra\,0} = 0
\tag{17}\]</span></span></p>
</section>
<section id="initial-power-reference" class="level3" data-number="3.7.3">
<h3 data-number="3.7.3" class="anchored" data-anchor-id="initial-power-reference"><span class="header-section-number">3.7.3</span> Initial power reference</h3>
<p><span id="eq-initPRef"><span class="math display">\[
P_\mathrm{ref\,0} =
\begin{cases}
    0,                         &amp; \text{if } R_\mathrm{select}=0\\
    R \cdot P_\mathrm{m\,0},   &amp; \text{if } R_\mathrm{select}=1\\
    R \cdot V_\mathrm{0},      &amp; \text{otherwise}
\end{cases}
\tag{18}\]</span></span></p>
</section>
</section>
</section>
<section id="assumptions-in-modelica-implementation-open-source-implementations" class="level1" data-number="4">
<h1 data-number="4"><span class="header-section-number">4</span> Assumptions in modelica implementation (Open source implementations)</h1>
<section id="base-values" class="level2" data-number="4.1">
<h2 data-number="4.1" class="anchored" data-anchor-id="base-values"><span class="header-section-number">4.1</span> Base values</h2>
<ul>
<li>PGenPu has base SystemBase.SnRef
<ul>
<li>A change of base has been added just after the input connector</li>
</ul></li>
<li>PRefPu has base PNomTurb/RDroop</li>
<li>Output PmPu has base PNomTurb</li>
</ul>
</section>
<section id="integrator-anti-windup-and-integrator-limits" class="level2" data-number="4.2">
<h2 data-number="4.2" class="anchored" data-anchor-id="integrator-anti-windup-and-integrator-limits"><span class="header-section-number">4.2</span> Integrator anti-windup and integrator limits</h2>
<section id="sec-assumptionLimits" class="level3" data-number="4.2.1">
<h3 data-number="4.2.1" class="anchored" data-anchor-id="sec-assumptionLimits"><span class="header-section-number">4.2.1</span> Limits</h3>
<p>In <span class="citation" data-cites="iec61970-3022023"><a href="#ref-iec61970-3022023" role="doc-biblioref">[3]</a></span> (page 45) it is stated that generally <em>“limited integrators are of the non-windup type”</em>. A concrete implementation is not specified. On p.&nbsp;244 IEEE 421.5-2005 anti windup is referenced, but related to an AVR model. Since in <span class="citation" data-cites="iec61970-3022023"><a href="#ref-iec61970-3022023" role="doc-biblioref">[3]</a></span> (Fig. 48) there is an explicitly limited integrator (<code>Kimw</code>), it was assumed that the integrators <code>Kigov</code> and <code>Kiload</code> are not <em>limited</em> in that sense, they are merely integrators with limits after them. Hence, they do not have a limit.</p>
</section>
<section id="anti-windup" class="level3" data-number="4.2.2">
<h3 data-number="4.2.2" class="anchored" data-anchor-id="anti-windup"><span class="header-section-number">4.2.2</span> Anti-windup</h3>
<p>In <span class="citation" data-cites="iec61970-3022023"><a href="#ref-iec61970-3022023" role="doc-biblioref">[3]</a></span> (Fig. 47) it is shown for the GovCT1 model that the <span class="math inline">\(K_\mathrm{I\,gov}\)</span> and <span class="math inline">\(K_\mathrm{I\,load}\)</span> integrators have a so-colled <em>tracking logic</em>, i.e.&nbsp;anti-windup logic, implemented.</p>
<p>For GovCT2, there are two statements:</p>
<ol type="1">
<li><p>In <span class="citation" data-cites="iec61970-3022023"><a href="#ref-iec61970-3022023" role="doc-biblioref">[3]</a></span> (p.&nbsp;139) it is stated that &gt; The Kpgov/Kigov and Kpload/Kiload controllers include tracking logic to ensure smooth transfer between active controllers. This logic is not shown on the GovCT2 diagram.</p></li>
<li><p>Just above that, the following is written: &gt; Aside from the frequency-dependent limit, GovCT2 is identical to GovCT1, except that the temperature fuel command fsrt does not track fsr when it is not in control. Instead, it stays at its upper limit (1).</p></li>
</ol>
<p>Statement 2. contradicts in two ways:</p>
<ul>
<li>it says that there is no tracking logic for the <span class="math inline">\(K_\mathrm{I\,load}\)</span> integrator, while statement 1) says the opposite.</li>
<li>it says that there is an upper limit on the <span class="math inline">\(K_\mathrm{I\,load}\)</span> controller, which contradicts <a href="#sec-assumptionLimits" class="quarto-xref">Section&nbsp;4.2.1</a>.</li>
</ul>
</section>
<section id="resulting-assumptions" class="level3" data-number="4.2.3">
<h3 data-number="4.2.3" class="anchored" data-anchor-id="resulting-assumptions"><span class="header-section-number">4.2.3</span> Resulting assumptions</h3>
<p>The validation reference model in DIgSILENT PowerFactory does not include the tracking logic. Because of this and the contradicting informaton in the standard:</p>
<ul>
<li>No tracking logic has been implemented</li>
<li>Integrator limits are only implemented if explicitly shown in <span class="citation" data-cites="iec61970-3022023"><a href="#ref-iec61970-3022023" role="doc-biblioref">[3]</a></span> (Fig. 48)</li>
</ul>
</section>
</section>
<section id="ramp-rate-limiters" class="level2" data-number="4.3">
<h2 data-number="4.3" class="anchored" data-anchor-id="ramp-rate-limiters"><span class="header-section-number">4.3</span> Ramp rate limiters</h2>
<p>As ramp rate limiter, the Modelica library block <code>Modelica.Blocks.Nonlinear.SlewRateLimiter</code> is used.</p>
<blockquote class="blockquote">
<p>The SlewRateLimiter block limits the slew rate of its input signal in the range of [Falling, Rising]. To ensure this for arbitrary inputs and in order to produce a differential output, the input is numerically differentiated with derivative time constant Td. Smaller time constant Td means nearer ideal derivative. Note: The user has to choose the derivative time constant according to the nature of the input signal.</p>
</blockquote>
<p><em>Documentation of the Modelica block</em></p>
<ul>
<li>The default value of <span class="math inline">\(T_\mathrm{D\,ratelim}=1 \mathrm{ms}\)</span> is used.</li>
<li>The same value is used for each ramp rate limiter block.</li>
</ul>
</section>
<section id="input-signals-omega-and-p_mathrmref" class="level2" data-number="4.4">
<h2 data-number="4.4" class="anchored" data-anchor-id="input-signals-omega-and-p_mathrmref"><span class="header-section-number">4.4</span> Input signals <span class="math inline">\(\omega\)</span> and <span class="math inline">\(P_\mathrm{ref}\)</span></h2>
<section id="power-setpoint-p_mathrmref" class="level3" data-number="4.4.1">
<h3 data-number="4.4.1" class="anchored" data-anchor-id="power-setpoint-p_mathrmref"><span class="header-section-number">4.4.1</span> Power setpoint <span class="math inline">\(P_\mathrm{ref}\)</span></h3>
<p>Since the power feedback gets passed through the droop <span class="math inline">\(R\)</span>, so for the power difference to make sense, the reference power needs to be multiplied by <span class="math inline">\(R\)</span> as well. This has historical reasons, see <span class="citation" data-cites="machowski2020"><a href="#ref-machowski2020" role="doc-biblioref">[1]</a></span> section 2.3.3.5 (before digital times it used to be a mechanical lever that is moved, it did not matter what the lever positions meant).</p>
<ul>
<li><strong>assumption:</strong> In this implementation the reference power input needs to be multiplied by <span class="math inline">\(R\)</span> before entering the governor model.</li>
</ul>
<p>The same is done in <em>DIgSILENT PowerFactory</em> GovCT2 at initialization: <code>inc(Pref) = R*Pfdbck + w</code>. ()</p>
</section>
<section id="rotor-speed-omega" class="level3" data-number="4.4.2">
<h3 data-number="4.4.2" class="anchored" data-anchor-id="rotor-speed-omega"><span class="header-section-number">4.4.2</span> Rotor speed <span class="math inline">\(\omega\)</span></h3>
<ul>
<li>In <em>DIgSILENT PowerFactory</em>, different implementations for the speed signal are used. For example,
<ul>
<li>In the PSS/E compatible GGOV1 model, the reference speed is explicitly subtracted from the measured speed to calculate <code>dw</code>, which is then subtracted at the control error summation point. Here, the reference power input is initialized to <code>inc(Pref) = R*Pfdbck+dw</code>.</li>
<li>In the GovCT2 model, the speed <code>w</code> is directly subtracted at the control error summation point. Here, the reference power input is initialized to <code>inc(Pref) = R*Pfdbck+w</code>.</li>
<li>So in both cases the initial speed value that is subtracted from the control error summation point is – implicitly! – being added to that summation point through the <code>Pref</code> input. The effect is that in both cases <span class="math inline">\(\Delta \omega\)</span> is subtracted at the summation point.</li>
</ul></li>
<li>In the CGMES standard <span class="citation" data-cites="iec61970-3022023"><a href="#ref-iec61970-3022023" role="doc-biblioref">[3]</a></span>, two points remain unclear:
<ul>
<li>The input <span class="math inline">\(\omega\)</span> is passed into the summation point while it should be <span class="math inline">\(\Delta \omega\)</span>. In <span class="citation" data-cites="neplan2015"><a href="#ref-neplan2015" role="doc-biblioref">[4]</a></span>, <span class="math inline">\(\omega - 1\)</span> is used as input, which supports this claim.</li>
<li>The input <em>speed</em> on the bottom right in <span class="citation" data-cites="iec61970-3022023"><a href="#ref-iec61970-3022023" role="doc-biblioref">[3]</a></span> (Fig. 48) should be the same as <span class="math inline">\(\omega\)</span>, which is also backed by <span class="citation" data-cites="neplan2015"><a href="#ref-neplan2015" role="doc-biblioref">[4]</a></span>.</li>
</ul></li>
<li><strong>assumption:</strong> In this model, this subtraction is being done explicitly by calculating <span class="math inline">\(\Delta \omega = \omega - 1\)</span> (see <a href="#fig-modelSchema" class="quarto-xref">Figure&nbsp;1</a>) and <strong>not</strong> adding anything speed related to the power reference input.</li>
</ul>
</section>
</section>
<section id="frequency-dependent-limit" class="level2" data-number="4.5">
<h2 data-number="4.5" class="anchored" data-anchor-id="frequency-dependent-limit"><span class="header-section-number">4.5</span> Frequency-dependent limit</h2>
<p>The mapping between frequency and maximum valve position is implemented via a lookup table. The table consists of 10 pairs of values. Successive values need to decrease in frequency and max. power. If e.g.&nbsp;only 5 pairs shall be used instead of all 10, only define pairs 1 to 5 and set all following pairs with fLim=0 and PLim = PLim5, resuling in a straight line in the lookup table. <strong>This is implemented slightly different compared to <span class="citation" data-cites="iec61970-3022023"><a href="#ref-iec61970-3022023" role="doc-biblioref">[3]</a></span> (p.&nbsp;139).</strong></p>
</section>
<section id="governor-output-feedback-delay" class="level2" data-number="4.6">
<h2 data-number="4.6" class="anchored" data-anchor-id="governor-output-feedback-delay"><span class="header-section-number">4.6</span> Governor output feedback delay</h2>
<p>To prevent an algebraic loop when using the governor output feedback, a first-order lag block with time constant <span class="math inline">\(T_\mathrm{last\,value}\)</span> has been added to the governor output feedback loop. The use of a unit delay block (1/z) has been found impractical.</p>
</section>
</section>
<section id="table-of-references" class="level1" data-number="5">
<h1 data-number="5"><span class="header-section-number">5</span> Table of references</h1>
<div id="refs" class="references csl-bib-body" data-entry-spacing="0" role="list">
<div id="ref-machowski2020" class="csl-entry" role="listitem">
<div class="csl-left-margin">[1] </div><div class="csl-right-inline">J. Machowski, Z. Lubosny, J. W. Bialek, and J. R. Bumby, <em>Power <span>System Dynamics</span>: <span>Stability</span> and <span>Control</span>, 3rd <span>Edition</span></em>. Wiley, 2020. Accessed: Nov. 22, 2022. [Online]. Available: <a href="https://www.wiley.com/en-us/Power+System+Dynamics%3A+Stability+and+Control%2C+3rd+Edition-p-9781119526360">https://www.wiley.com/en-us/Power+System+Dynamics%3A+Stability+and+Control%2C+3rd+Edition-p-9781119526360</a></div>
</div>
<div id="ref-alliander2024" class="csl-entry" role="listitem">
<div class="csl-left-margin">[2] </div><div class="csl-right-inline">alliander, <span>“Alliander-opensource.”</span> [Online]. Available: <a href="https://alliander-opensource.github.io/cgmes-profiles/Dynamics/GovCT2/">https://alliander-opensource.github.io/cgmes-profiles/Dynamics/GovCT2/</a></div>
</div>
<div id="ref-iec61970-3022023" class="csl-entry" role="listitem">
<div class="csl-left-margin">[3] </div><div class="csl-right-inline">IEC61970-302, <span>“<span>DIN EN IEC</span> 61970-302 – <span>Schnittstelle</span> für <span>Anwendungsprogramme</span> für <span>Energiemanagementsysteme</span> (<span>EMS</span>­<span>API</span>) <span>Teil</span>&nbsp;302: <span>Allgemeines Informationsmodell</span>&nbsp;(<span>CIM</span>) <span>Dynamik</span>.”</span> Jun. 2023.</div>
</div>
<div id="ref-neplan2015" class="csl-entry" role="listitem">
<div class="csl-left-margin">[4] </div><div class="csl-right-inline">Neplan, <span>“<span>TURBINE-GOVERNOR MODELS</span> – <span>Standard Dynamic Turbine-Governor Systems</span> in <span>NEPLAN Power System Analysis Tool</span>.”</span> 2015. Available: <a href="https://www.neplan.ch">www.neplan.ch</a></div>
</div>
</div>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>